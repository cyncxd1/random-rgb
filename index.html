<!DOCTYPE html>
<html>
    <head>
        <title>Random RGB</title>
    </head>
    <body id = 'body'>
        <div class = 'container' id = 'container'>COLOR: rgba(0, 0, 0, 0)<br><br>CLICKS: 0<br><br>HEX: #000000</div>
        <script defer>
            // this was just me testing how code.org's 'onEvent' works
            const onEvent = (element, e, callback) => {
                document.getElementById(element).addEventListener(e, callback)
            }
            // Default     
            document.getElementById('container').style.backgroundColor = 'rgba(0, 0, 0, 0)'

            // for the counter
            let index = 0

            // initialize variables
            let colors
            let colors2
            let colors3
            /*let hex1
            let hex2
            let hex3*/

            let opac
            let opacR

            let rgb
            let rgba

            let text

            let brightness
            let vis

            onEvent('container', 'click', function() {    
                // set variables to randomize numbers between 0 and 255        
                colors = Math.floor(Math.random() * 255)
                colors2 = Math.floor(Math.random() * 255)
                colors3 = Math.floor(Math.random() * 255)
                // set colors to base 16 for hex
                /*hex1 = colors.toString(16)
                hex2 = colors2.toString(16)
                hex3 = colors3.toString(16)
                hexCol = hex1 + hex2 + hex3*/

                // for calculating random opacity values
                opac = Math.random() * 1;
                opacR = Math.floor(opac * 100) / 100

                // this is what is returned
                rgb = 'rgba(' + colors + ', ' + colors2 + ', ' + colors3 + ')'
                rgba = 'rgba(' + colors + ', ' + colors2 + ', ' + colors3 + ', ' + opacR + ')'
                // check();
                // console.log(hex1 + '\n' + hex2 + '\n' + hex3);
                text = 'COLOR: ' + rgba + '\n\nCLICKS: ' + index + '\n\nHEX: ' + rgbToHex(colors, colors2, colors3)
                
                // brightness and visibility values for setting text color
                brightness = 127.5
                vis = 0.5

                container.style.backgroundColor = rgba
                textBrightness()

                // check if color is less than brightness or opacity is less than vis
                function textBrightness() {
                    if (colors < brightness || colors2 < brightness || colors3 < brightness || opacR < vis) return container.style.color = 'rgba(200, 200, 200)'
                    document.getElementById('container').style.color = 'rgba(45, 45, 45)'
                }

                /*function check() {
                    if (colors < 16) return hex1 = colors.toString(16).padStart(2, '0')
                    if (colors2 < 16) return hex2 = colors2.toString(16).padStart(2, '0')
                    if (colors3 < 16) return hex3 = colors3.toString(16).padStart(2, '0')
                    if (opacHex < 10) return opacHex = opacHex.toString(10).padStart(2, '0')
                }*/

                // thank you stack overflow
                function componentToHex(c) {
                    let hex = c.toString(16);
                    return hex.length == 1 ? '0' + hex : hex;
                }

                function rgbToHex(r, g, b) {
                    return '#' + componentToHex(r) + componentToHex(g) + componentToHex(b);
                }

                // output
                console.log(text)
                container.innerText = text

                // + 1
                index++
            })
        </script>

        <style>
            body {
                /* background-image: url('rgb.jpg'); */
                background-color: rgba(45, 45, 45);      
            }

            .container {
                left: 50%;
               top: 50%;
               transform: translate(-50%, -50%);
                border-radius: 20px;
                text-align: center;
                font-family: Arial, monospace;
                color: rgba(255, 255, 255, 1);
                user-select: none;
                cursor: pointer;
                position: absolute;
                padding: 50px;
                background: rgba(45, 45, 45);
                transition: 0.02s;
            }

            .container:active {
                padding: 45px;
            }
        </style>
    </body>
</html>
